<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI</title>
    <style>
        :root{
        --text:#21171C;
     	--border:#562F23;
     	
     	--darkaccent:#837288;
     	--bgcont:#A2634C;
     	--lightaccent:#D0966C;
     	
     	--bgsecond:#F1CEA7;
    }
    body{
        width: 100dvw;
        height: 100dvh;
        margin: 0;
        background-image: url(./media/lofiRacoonCode.jpg);
        background-repeat:no-repeat;
        background-size: cover;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    #result{
        display: none;
    }
    h1{
        padding: .5em;
        background-color: var(--border);
        color: var(--bgsecond);
        border-radius: 20px;
        text-shadow: 3px 3px 2px var(--darkaccent);
    }
    form{
        padding: 0 .5em;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height:50dvh;
        min-width: 50dvw;
        background-color: var(--bgsecond);
        color: var(--text);
        border-radius: 20px;
        border: 5px solid var(--lightaccent);
        box-shadow: 4px 3px 5px var(--darkaccent);
    }
    .btn{
        min-height: 44px;
        min-width: 200px;
        border-radius: 5px;
        padding:.5em 0;
        margin: .5em 0;
    }
    </style>
    <script>
        const focus = document.getElementById("weight");
        
        
    </script>
</head>
<body onload="renderFocus()" >
    
    <h1>BMI Calculator</h1>
    <form>
        <label for="weight">Enter your weight (lbs/pounds):</label><br>
        <input type="text" id="weight" name="weight"><br>
        <label for="height">Enter your height (inches):</label><br>
        <input  type="text" id="height" name="height"><br>
        
        <input class="btn" type="button" onclick="calc()" value="Submit">
        <input class="btn" type="reset" onclick="clearResult()" value="Reset">
        <h1 id="result"></h1>
    </form>
    <script>
        const userWeight = document.getElementById("weight");
        const userHeight = document.getElementById("height");
        var validW;
        var validH;
        
        function renderFocus() {
                userWeight.focus();
            }
        function calc(){
            var testWeight = parseInt(userWeight.value);
            var testHeight = parseInt(userHeight.value);
            userWeight.style.backgroundColor = "white";
            userHeight.style.backgroundColor = "white";
            if(isNaN(testHeight) || isNaN(testWeight)){
                alert("please enter a weight (60 - 1000) and a height (35 - 90)");
            }
            else if(testWeight < 60 || testWeight > 1000) {
                console.log("the amount invalid for weight")
                userWeight.style.backgroundColor = "red";
                userWeight.value = "Enter weight (60 - 1000)";
                userWeight.focus();
            }
            else if(testHeight < 35 || testHeight > 90){
                console.log("the amount invalid for height")
                userHeight.style.backgroundColor = "red";
                userHeight.value = "Enter height (35 - 90)";
                userHeight.focus();
            }
            else{
            console.log("height and weight are within parameters");
            validH = testHeight;
            validW = testWeight;   
            var result = (validW * 703) / (validH * validH);
            document.getElementById("result").textContent = `Your BMI is ${Math.round(result)}`;
            document.getElementById("result").style.display = "flex";
            }
        }
        function clearResult(){
            console.log("reset");
            
            document.getElementById("result").style.display = 'none';
            userWeight.focus();
            
            
        }
        
    </script>
</body>
</html>