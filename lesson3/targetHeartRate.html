<!DOCTYPE html>
<html>
<head>
<title>Target Heart Rate</title>
<link href="https://fonts.googleapis.com/css?family=Anton" rel="stylesheet">
<style>
body{
	font-family:"Anton, Lucida Sans", "Lucida Sans Regular", "Lucida Grande", "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
	font-size:1.2em;
	background-color:red;
}
h1{
   -webkit-text-fill-color: white; 
   -webkit-text-stroke: 2px red;
   font-size:2em;
   text-shadow:2px 2px black;
   background-color:white;
   padding:2%;
}
section{
	background-image:url('media/heartbeat.jpg');
	background-position:right bottom;
	background-size:50%;
	background-repeat:no-repeat;
	background-color:white;
	padding:10%;
}
.center{
    margin: auto;
    width: 90%;
	outline:10px solid white;
	outline-offset:20px;
    padding: 1%;	
}
.formEntry{
	text-align:left;
	float:left;
	width:200px;
	font-size:14pt;
	color:#ad4d1a;
}
.label{
	text-align:left;
	width:300px;
	float:left;
}
input:focus { 
    background-color: red;
    color:white;
}
#feedback{
	color:red;
	font-size:1.5em;
	width:75%;
}
p{
	padding-bottom:2%;
}
.inputButton{
	width: 200px; 
	height: 30px;
	font-size:1.2em;
	background-color: red;
	color:white;
}
</style>
<script>
     function calcRate() {
	 const docRestingHR = document.getElementById("restingHR");
	 const docAge = document.getElementById("age");
	 var userAge = parseInt(docAge.value);
	 var userRestingHR = parseInt(docRestingHR.value);
	 var message;
	 console.log("working calcRate()");
	 if(userAge>99 || isNaN(userAge)){
		message = "Please enter your age (15-99)";
		docAge.value = "";
		docAge.focus();
		userAge = "";
	 }
	 else if(isNaN(userRestingHR) || userRestingHR != 0 && userRestingHR < 20 || userRestingHR > 100){
		message = "Please enter your resting heart rate (20 - 100) or 50 if you dont know";
		docRestingHR.value = "";
		docRestingHR.focus();
		restingHR = "";
	 }
	 else{
		var lowEndVal = (220 - userAge - userRestingHR) * .5;
		var lowEndAdj = lowEndVal + userRestingHR;
		var hiEndVal = (220 - userAge - userRestingHR) * .85;
		var hiEndAdj = hiEndVal + userRestingHR;
		message = "Your training heart rate is between: <br>" + lowEndAdj + " and " + hiEndAdj; 
	 }
	 document.getElementById("feedback").innerHTML = message;
	 if(hiEndAdj){
		thankyou();
		console.log("init thankyou()");
	 }  
     } 
     function thankyou(){
		console.log("working thankyou()");
		var rand = Math.floor((Math.random() * 7) + 1);
		var thankYou;
		switch(rand){
			case 1:
				thankYou = "Have a nice day";
				break;
			case 2:
				thankYou = "...and keep the change you filthy animal";
				break;
			case 3:
				thankYou = "That's all folks";
				break;
			case 4:
				thankYou = "You may hate me, but it ain't no lie -- Baby, bye, bye, bye ";
				break;
			case 5:
				thankYou = "Oh would you look at the time, I best be skadadlin'";
				break;
			default:
				thankYou = "Bye, Felicia!";
				break;
		}
		document.getElementById("thanks").innerHTML = thankYou;
     }	
     function clearText(){
		document.getElementById("thanks").innerHTML = "";
		document.getElementById("feedback").innerHTML = "";
     } 						
</script>
</head>
<body>
	<article class="center">
		<header><h1>Training Heart Rate Calculator</h1></header>
		<section>
			<form>
				<p><label class="label" for="age">Enter Your Age:</label><br><input class="formEntry" id="age" type="number" width="10" min="15" max="99"></p>
				<p><label class="label" for="restingHR">Resting Heartrate:</label><br>
				<input class="formEntry" id="restingHR" type="number" width="10" title="Take a 15 second count in the morning and multiply by 4" ></p>
				<button class="inputButton" type="button" onclick="calcRate();">Calculate Training Heart Rate</button><br>
				<button class="inputButton" type="reset" value="Reset" onclick="clearText()">Clear All</button>
				<p id="feedback"></p>
				<p id="thanks"></p>
			</form>
		</section>
	</article>
	<script>document.getElementById("age").focus();</script>
</body>
</html>
